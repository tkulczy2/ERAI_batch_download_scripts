
% PROJECTING DAILY TEMPERATURE DATA FROM BEST FOR 
% BRA ADM 2, 2000-2009

% SMH WRITTEN 6.30.2015

% TAC EDITED 1.20.2015 to include polynomials aggregated correctly 

%%

clear
close all
clc

%% custom functions path
currentpath = path;
newpath = '/mnt/norgay/Computation/sol_matlab_toolbox'
path(currentpath, newpath)

%% THIS SECTION CONTAINS ALL VARIABLE FUNCTION NAMES

%set climate data name
CLIM = 'ERAI';
climateDir = 'ERA_Interim';
%obtain shapefile
sample = 'USA';
% for s = {'BRA' 'CHN' 'FRA' 'IND' 'MEX' 'USA'}
%     sample = char(s);    
    shapeDir = ['/mnt/norgay/Datasets/SHAPEFILES/' sample '/' sample '_adm'];
    shapeFile = [shapeDir '/' sample '_adm2.shp'];

    % Sol's machine
    %cd /Users/solhsiang/Dropbox/Rhodium/summer-workshop-data/_spatial_data/BRA

    % Tamma - Shackleton: call shapefiles stored on Norgay
%     command = ['cd ' shapeDir];
%     eval(command)
    [s,a] = shaperead(shapeFile,'UseGeoCoords', true); 
    a = combine_attributes(a, 'NAME_1', 'NAME_2');

    % Tamma-Shackleton: change directory to store output files on Norgay
    baseDir = ['/mnt/norgay/Datasets/Climate/' climateDir];
    command = ['cd ' baseDir '/Matlab_projected_DAILY_polynomials'];
    eval(command) 

    outputDir = [sample '_daily_' CLIM '_polynomials'];

    command = ['mkdir ' outputDir];
    eval(command)
    command = ['cd ' outputDir];
    eval(command)
    label = 'CNTRY_NAME_ADMIN_NAME';

% end
disp('----DONE----')
toc








